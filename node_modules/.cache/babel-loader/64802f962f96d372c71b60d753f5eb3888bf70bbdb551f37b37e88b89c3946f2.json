{"ast":null,"code":"// ToGIF.js\nimport GIF from \"gif.js\";\nexport default function ToGIF(frames, delay = 100) {\n  return new Promise((resolve, reject) => {\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      workerScript: \"/gif.worker.js\"\n    });\n    frames.forEach(frame => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = frame.width;\n      canvas.height = frame.height;\n      const ctx = canvas.getContext(\"2d\");\n      const imageData = ctx.createImageData(frame.width, frame.height);\n      imageData.data.set(frame.patch);\n      ctx.putImageData(imageData, 0, 0);\n      gif.addFrame(canvas, {\n        delay\n      });\n    });\n    gif.on(\"finished\", blob => {\n      if (!blob) {\n        reject(new Error(\"GIF rendering failed\"));\n        return;\n      }\n      const url = URL.createObjectURL(blob);\n      resolve(url);\n    });\n    gif.on(\"abort\", () => reject(new Error(\"GIF render aborted\")));\n    gif.render();\n  });\n}\n_c = ToGIF;\nvar _c;\n$RefreshReg$(_c, \"ToGIF\");","map":{"version":3,"names":["GIF","ToGIF","frames","delay","Promise","resolve","reject","gif","workers","quality","workerScript","forEach","frame","canvas","document","createElement","width","height","ctx","getContext","imageData","createImageData","data","set","patch","putImageData","addFrame","on","blob","Error","url","URL","createObjectURL","render","_c","$RefreshReg$"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToGIF.js"],"sourcesContent":["// ToGIF.js\r\nimport GIF from \"gif.js\";\r\n\r\nexport default function ToGIF(frames, delay = 100) {\r\n  return new Promise((resolve, reject) => {\r\n    const gif = new GIF({\r\n      workers: 2,\r\n      quality: 10,\r\n      workerScript: \"/gif.worker.js\",\r\n    });\r\n\r\n    frames.forEach(frame => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = frame.width;\r\n      canvas.height = frame.height;\r\n\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const imageData = ctx.createImageData(frame.width, frame.height);\r\n      imageData.data.set(frame.patch);\r\n      ctx.putImageData(imageData, 0, 0);\r\n\r\n      gif.addFrame(canvas, { delay });\r\n    });\r\n\r\n    gif.on(\"finished\", blob => {\r\n      if (!blob) {\r\n        reject(new Error(\"GIF rendering failed\"));\r\n        return;\r\n      }\r\n      const url = URL.createObjectURL(blob);\r\n      resolve(url);\r\n    });\r\n\r\n    gif.on(\"abort\", () => reject(new Error(\"GIF render aborted\")));\r\n\r\n    gif.render();\r\n  });\r\n}\r\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,QAAQ;AAExB,eAAe,SAASC,KAAKA,CAACC,MAAM,EAAEC,KAAK,GAAG,GAAG,EAAE;EACjD,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMC,GAAG,GAAG,IAAIP,GAAG,CAAC;MAClBQ,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE;IAChB,CAAC,CAAC;IAEFR,MAAM,CAACS,OAAO,CAACC,KAAK,IAAI;MACtB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACG,KAAK,GAAGJ,KAAK,CAACI,KAAK;MAC1BH,MAAM,CAACI,MAAM,GAAGL,KAAK,CAACK,MAAM;MAE5B,MAAMC,GAAG,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;MACnC,MAAMC,SAAS,GAAGF,GAAG,CAACG,eAAe,CAACT,KAAK,CAACI,KAAK,EAAEJ,KAAK,CAACK,MAAM,CAAC;MAChEG,SAAS,CAACE,IAAI,CAACC,GAAG,CAACX,KAAK,CAACY,KAAK,CAAC;MAC/BN,GAAG,CAACO,YAAY,CAACL,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;MAEjCb,GAAG,CAACmB,QAAQ,CAACb,MAAM,EAAE;QAAEV;MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IAEFI,GAAG,CAACoB,EAAE,CAAC,UAAU,EAAEC,IAAI,IAAI;MACzB,IAAI,CAACA,IAAI,EAAE;QACTtB,MAAM,CAAC,IAAIuB,KAAK,CAAC,sBAAsB,CAAC,CAAC;QACzC;MACF;MACA,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;MACrCvB,OAAO,CAACyB,GAAG,CAAC;IACd,CAAC,CAAC;IAEFvB,GAAG,CAACoB,EAAE,CAAC,OAAO,EAAE,MAAMrB,MAAM,CAAC,IAAIuB,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAE9DtB,GAAG,CAAC0B,MAAM,CAAC,CAAC;EACd,CAAC,CAAC;AACJ;AAACC,EAAA,GAlCuBjC,KAAK;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}