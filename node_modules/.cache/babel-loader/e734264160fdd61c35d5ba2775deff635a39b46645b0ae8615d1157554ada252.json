{"ast":null,"code":"import { parseGIF, decompressFrames } from \"gifuct-js\";\nexport default async function extractMetadataBits(gifFile) {\n  if (!gifFile) throw new Error(\"No GIF file provided\");\n  const arrayBuffer = await gifFile.arrayBuffer();\n  const gif = parseGIF(arrayBuffer);\n  const frames = decompressFrames(gif, true);\n\n  // --- Step 1: Extract LSBs from first pixel of each frame ---\n  let allBits = '';\n  for (let i = 0; i < frames.length; i++) {\n    allBits += (frames[i].patch[0] & 1).toString(); // LSB of RED channel\n  }\n\n  // --- Step 2: Get metadata length from first 32 bits ---\n  const lengthBits = allBits.slice(0, 32);\n  const metadataLength = parseInt(lengthBits, 2);\n\n  // --- Step 3: Extract metadata bits ---\n  const metadataBits = allBits.slice(32, 32 + metadataLength);\n  console.log(\"Metadata length (bits):\", metadataLength);\n  console.log(\"Raw metadata bits:\", metadataBits);\n  return metadataBits;\n}","map":{"version":3,"names":["parseGIF","decompressFrames","extractMetadataBits","gifFile","Error","arrayBuffer","gif","frames","allBits","i","length","patch","toString","lengthBits","slice","metadataLength","parseInt","metadataBits","console","log"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/DecryptSection.js"],"sourcesContent":["import { parseGIF, decompressFrames } from \"gifuct-js\";\r\n\r\nexport default async function extractMetadataBits(gifFile) {\r\n  if (!gifFile) throw new Error(\"No GIF file provided\");\r\n\r\n  const arrayBuffer = await gifFile.arrayBuffer();\r\n  const gif = parseGIF(arrayBuffer);\r\n  const frames = decompressFrames(gif, true);\r\n\r\n  // --- Step 1: Extract LSBs from first pixel of each frame ---\r\n  let allBits = '';\r\n  for (let i = 0; i < frames.length; i++) {\r\n    allBits += (frames[i].patch[0] & 1).toString(); // LSB of RED channel\r\n  }\r\n\r\n  // --- Step 2: Get metadata length from first 32 bits ---\r\n  const lengthBits = allBits.slice(0, 32);\r\n  const metadataLength = parseInt(lengthBits, 2);\r\n\r\n  // --- Step 3: Extract metadata bits ---\r\n  const metadataBits = allBits.slice(32, 32 + metadataLength);\r\n\r\n  console.log(\"Metadata length (bits):\", metadataLength);\r\n  console.log(\"Raw metadata bits:\", metadataBits);\r\n\r\n  return metadataBits;\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,gBAAgB,QAAQ,WAAW;AAEtD,eAAe,eAAeC,mBAAmBA,CAACC,OAAO,EAAE;EACzD,IAAI,CAACA,OAAO,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EAErD,MAAMC,WAAW,GAAG,MAAMF,OAAO,CAACE,WAAW,CAAC,CAAC;EAC/C,MAAMC,GAAG,GAAGN,QAAQ,CAACK,WAAW,CAAC;EACjC,MAAME,MAAM,GAAGN,gBAAgB,CAACK,GAAG,EAAE,IAAI,CAAC;;EAE1C;EACA,IAAIE,OAAO,GAAG,EAAE;EAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACtCD,OAAO,IAAI,CAACD,MAAM,CAACE,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD;;EAEA;EACA,MAAMC,UAAU,GAAGL,OAAO,CAACM,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EACvC,MAAMC,cAAc,GAAGC,QAAQ,CAACH,UAAU,EAAE,CAAC,CAAC;;EAE9C;EACA,MAAMI,YAAY,GAAGT,OAAO,CAACM,KAAK,CAAC,EAAE,EAAE,EAAE,GAAGC,cAAc,CAAC;EAE3DG,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEJ,cAAc,CAAC;EACtDG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,YAAY,CAAC;EAE/C,OAAOA,YAAY;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}