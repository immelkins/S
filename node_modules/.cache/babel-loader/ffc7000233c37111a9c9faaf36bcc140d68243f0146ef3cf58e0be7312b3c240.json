{"ast":null,"code":"import GIF from 'gif.js';\nconst createGIF = async (frames, delay = 100) => {\n  return new Promise(resolve => {\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      workerScript: '/gif.worker.js' // local worker\n    });\n    frames.forEach(frame => {\n      const canvas = document.createElement('canvas');\n      canvas.width = frame.width;\n      canvas.height = frame.height;\n      const ctx = canvas.getContext('2d');\n      const imageData = ctx.createImageData(frame.width, frame.height);\n      imageData.data.set(frame.patch);\n      ctx.putImageData(imageData, 0, 0);\n      gif.addFrame(canvas, {\n        delay\n      });\n    });\n    gif.on('finished', blob => {\n      const url = URL.createObjectURL(blob);\n      resolve(url);\n    });\n    gif.render();\n  });\n};","map":{"version":3,"names":["GIF","createGIF","frames","delay","Promise","resolve","gif","workers","quality","workerScript","forEach","frame","canvas","document","createElement","width","height","ctx","getContext","imageData","createImageData","data","set","patch","putImageData","addFrame","on","blob","url","URL","createObjectURL","render"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToGIf.js"],"sourcesContent":["import GIF from 'gif.js';\r\n\r\nconst createGIF = async (frames, delay = 100) => {\r\n  return new Promise((resolve) => {\r\n    const gif = new GIF({\r\n      workers: 2,\r\n      quality: 10,\r\n      workerScript: '/gif.worker.js', // local worker\r\n    });\r\n\r\n    frames.forEach(frame => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = frame.width;\r\n      canvas.height = frame.height;\r\n      const ctx = canvas.getContext('2d');\r\n\r\n      const imageData = ctx.createImageData(frame.width, frame.height);\r\n      imageData.data.set(frame.patch);\r\n      ctx.putImageData(imageData, 0, 0);\r\n\r\n      gif.addFrame(canvas, { delay });\r\n    });\r\n\r\n    gif.on('finished', blob => {\r\n      const url = URL.createObjectURL(blob);\r\n      resolve(url);\r\n    });\r\n\r\n    gif.render();\r\n  });\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,QAAQ;AAExB,MAAMC,SAAS,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,GAAG,GAAG,KAAK;EAC/C,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,GAAG,GAAG,IAAIN,GAAG,CAAC;MAClBO,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,gBAAgB,CAAE;IAClC,CAAC,CAAC;IAEFP,MAAM,CAACQ,OAAO,CAACC,KAAK,IAAI;MACtB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACG,KAAK,GAAGJ,KAAK,CAACI,KAAK;MAC1BH,MAAM,CAACI,MAAM,GAAGL,KAAK,CAACK,MAAM;MAC5B,MAAMC,GAAG,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;MAEnC,MAAMC,SAAS,GAAGF,GAAG,CAACG,eAAe,CAACT,KAAK,CAACI,KAAK,EAAEJ,KAAK,CAACK,MAAM,CAAC;MAChEG,SAAS,CAACE,IAAI,CAACC,GAAG,CAACX,KAAK,CAACY,KAAK,CAAC;MAC/BN,GAAG,CAACO,YAAY,CAACL,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;MAEjCb,GAAG,CAACmB,QAAQ,CAACb,MAAM,EAAE;QAAET;MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;IAEFG,GAAG,CAACoB,EAAE,CAAC,UAAU,EAAEC,IAAI,IAAI;MACzB,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;MACrCtB,OAAO,CAACuB,GAAG,CAAC;IACd,CAAC,CAAC;IAEFtB,GAAG,CAACyB,MAAM,CAAC,CAAC;EACd,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}