{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\nexports.buildStream = buildStream;\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\nexports.readByte = readByte;\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\nexports.peekByte = peekByte;\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\nexports.readBytes = readBytes;\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\nexports.peekBytes = peekBytes;\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\nexports.readString = readString;\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\nexports.readUnsigned = readUnsigned;\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n    return arr;\n  };\n};\nexports.readArray = readArray;\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n  return result;\n};\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n    var bits = new Array(8);\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n      return res;\n    }, {});\n  };\n};\nexports.readBits = readBits;","map":{"version":3,"names":["Object","defineProperty","exports","value","readBits","readArray","readUnsigned","readString","peekBytes","readBytes","peekByte","readByte","buildStream","uint8Data","data","pos","stream","offset","arguments","length","undefined","subarray","Array","from","map","String","fromCharCode","join","littleEndian","bytes","byteSize","totalOrFunc","result","parent","total","parser","arr","i","subBitsTotal","bits","startIndex","Math","pow","schema","_byte","keys","reduce","res","key","def","index"],"sources":["/Users/melvinescobar/Steganography/node_modules/js-binary-schema-parser/lib/parsers/uint8.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,QAAQ,GAAGF,OAAO,CAACG,SAAS,GAAGH,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACK,UAAU,GAAGL,OAAO,CAACM,SAAS,GAAGN,OAAO,CAACO,SAAS,GAAGP,OAAO,CAACQ,QAAQ,GAAGR,OAAO,CAACS,QAAQ,GAAGT,OAAO,CAACU,WAAW,GAAG,KAAK,CAAC;;AAE7L;AACA,IAAIA,WAAW,GAAG,SAASA,WAAWA,CAACC,SAAS,EAAE;EAChD,OAAO;IACLC,IAAI,EAAED,SAAS;IACfE,GAAG,EAAE;EACP,CAAC;AACH,CAAC;AAEDb,OAAO,CAACU,WAAW,GAAGA,WAAW;AAEjC,IAAID,QAAQ,GAAG,SAASA,QAAQA,CAAA,EAAG;EACjC,OAAO,UAAUK,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACF,IAAI,CAACE,MAAM,CAACD,GAAG,EAAE,CAAC;EAClC,CAAC;AACH,CAAC;AAEDb,OAAO,CAACS,QAAQ,GAAGA,QAAQ;AAE3B,IAAID,QAAQ,GAAG,SAASA,QAAQA,CAAA,EAAG;EACjC,IAAIO,MAAM,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;EAClF,OAAO,UAAUF,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACF,IAAI,CAACE,MAAM,CAACD,GAAG,GAAGE,MAAM,CAAC;EACzC,CAAC;AACH,CAAC;AAEDf,OAAO,CAACQ,QAAQ,GAAGA,QAAQ;AAE3B,IAAID,SAAS,GAAG,SAASA,SAASA,CAACU,MAAM,EAAE;EACzC,OAAO,UAAUH,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACF,IAAI,CAACO,QAAQ,CAACL,MAAM,CAACD,GAAG,EAAEC,MAAM,CAACD,GAAG,IAAII,MAAM,CAAC;EAC/D,CAAC;AACH,CAAC;AAEDjB,OAAO,CAACO,SAAS,GAAGA,SAAS;AAE7B,IAAID,SAAS,GAAG,SAASA,SAASA,CAACW,MAAM,EAAE;EACzC,OAAO,UAAUH,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACF,IAAI,CAACO,QAAQ,CAACL,MAAM,CAACD,GAAG,EAAEC,MAAM,CAACD,GAAG,GAAGI,MAAM,CAAC;EAC9D,CAAC;AACH,CAAC;AAEDjB,OAAO,CAACM,SAAS,GAAGA,SAAS;AAE7B,IAAID,UAAU,GAAG,SAASA,UAAUA,CAACY,MAAM,EAAE;EAC3C,OAAO,UAAUH,MAAM,EAAE;IACvB,OAAOM,KAAK,CAACC,IAAI,CAACd,SAAS,CAACU,MAAM,CAAC,CAACH,MAAM,CAAC,CAAC,CAACQ,GAAG,CAAC,UAAUrB,KAAK,EAAE;MAChE,OAAOsB,MAAM,CAACC,YAAY,CAACvB,KAAK,CAAC;IACnC,CAAC,CAAC,CAACwB,IAAI,CAAC,EAAE,CAAC;EACb,CAAC;AACH,CAAC;AAEDzB,OAAO,CAACK,UAAU,GAAGA,UAAU;AAE/B,IAAID,YAAY,GAAG,SAASA,YAAYA,CAACsB,YAAY,EAAE;EACrD,OAAO,UAAUZ,MAAM,EAAE;IACvB,IAAIa,KAAK,GAAGpB,SAAS,CAAC,CAAC,CAAC,CAACO,MAAM,CAAC;IAChC,OAAOY,YAAY,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,GAAG,CAACA,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC;EAC/E,CAAC;AACH,CAAC;AAED3B,OAAO,CAACI,YAAY,GAAGA,YAAY;AAEnC,IAAID,SAAS,GAAG,SAASA,SAASA,CAACyB,QAAQ,EAAEC,WAAW,EAAE;EACxD,OAAO,UAAUf,MAAM,EAAEgB,MAAM,EAAEC,MAAM,EAAE;IACvC,IAAIC,KAAK,GAAG,OAAOH,WAAW,KAAK,UAAU,GAAGA,WAAW,CAACf,MAAM,EAAEgB,MAAM,EAAEC,MAAM,CAAC,GAAGF,WAAW;IACjG,IAAII,MAAM,GAAG1B,SAAS,CAACqB,QAAQ,CAAC;IAChC,IAAIM,GAAG,GAAG,IAAId,KAAK,CAACY,KAAK,CAAC;IAE1B,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,EAAEG,CAAC,EAAE,EAAE;MAC9BD,GAAG,CAACC,CAAC,CAAC,GAAGF,MAAM,CAACnB,MAAM,CAAC;IACzB;IAEA,OAAOoB,GAAG;EACZ,CAAC;AACH,CAAC;AAEDlC,OAAO,CAACG,SAAS,GAAGA,SAAS;AAE7B,IAAIiC,YAAY,GAAG,SAASA,YAAYA,CAACC,IAAI,EAAEC,UAAU,EAAErB,MAAM,EAAE;EACjE,IAAIa,MAAM,GAAG,CAAC;EAEd,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGlB,MAAM,EAAEkB,CAAC,EAAE,EAAE;IAC/BL,MAAM,IAAIO,IAAI,CAACC,UAAU,GAAGH,CAAC,CAAC,IAAII,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEvB,MAAM,GAAGkB,CAAC,GAAG,CAAC,CAAC;EAC/D;EAEA,OAAOL,MAAM;AACf,CAAC;AAED,IAAI5B,QAAQ,GAAG,SAASA,QAAQA,CAACuC,MAAM,EAAE;EACvC,OAAO,UAAU3B,MAAM,EAAE;IACvB,IAAI4B,KAAK,GAAGjC,QAAQ,CAAC,CAAC,CAACK,MAAM,CAAC,CAAC,CAAC;;IAGhC,IAAIuB,IAAI,GAAG,IAAIjB,KAAK,CAAC,CAAC,CAAC;IAEvB,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC1BE,IAAI,CAAC,CAAC,GAAGF,CAAC,CAAC,GAAG,CAAC,EAAEO,KAAK,GAAG,CAAC,IAAIP,CAAC,CAAC;IAClC,CAAC,CAAC;;IAGF,OAAOrC,MAAM,CAAC6C,IAAI,CAACF,MAAM,CAAC,CAACG,MAAM,CAAC,UAAUC,GAAG,EAAEC,GAAG,EAAE;MACpD,IAAIC,GAAG,GAAGN,MAAM,CAACK,GAAG,CAAC;MAErB,IAAIC,GAAG,CAAC9B,MAAM,EAAE;QACd4B,GAAG,CAACC,GAAG,CAAC,GAAGV,YAAY,CAACC,IAAI,EAAEU,GAAG,CAACC,KAAK,EAAED,GAAG,CAAC9B,MAAM,CAAC;MACtD,CAAC,MAAM;QACL4B,GAAG,CAACC,GAAG,CAAC,GAAGT,IAAI,CAACU,GAAG,CAACC,KAAK,CAAC;MAC5B;MAEA,OAAOH,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EACR,CAAC;AACH,CAAC;AAED7C,OAAO,CAACE,QAAQ,GAAGA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}