{"ast":null,"code":"// ToGIf.js \n// Renders frames into a GIF and returns a URL to the generated GIF\nimport GIF from'gif.js';export default async function ToGIF(frames){let delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;return new Promise(resolve=>{const gif=new GIF({workers:2,quality:10,// lower is better quality\nworkerScript:process.env.PUBLIC_URL+'/gif.worker.js'// local worker\n});//Add each frame to the GIF\nframes.forEach(frame=>{const canvas=document.createElement('canvas');canvas.width=frame.width;canvas.height=frame.height;const context=canvas.getContext('2d');// Copy RGBA pixels into canvas\nconst frameData=context.createImageData(frame.width,frame.height);frameData.data.set(frame.patch);context.putImageData(frameData,0,0);//Adding the canvas as a frame\ngif.addFrame(canvas,{delay});});// Return the generated GIF\ngif.on('finished',blob=>{const url=URL.createObjectURL(blob);resolve(url);});gif.render();});};","map":{"version":3,"names":["GIF","ToGIF","frames","delay","arguments","length","undefined","Promise","resolve","gif","workers","quality","workerScript","process","env","PUBLIC_URL","forEach","frame","canvas","document","createElement","width","height","context","getContext","frameData","createImageData","data","set","patch","putImageData","addFrame","on","blob","url","URL","createObjectURL","render"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToGIF.js"],"sourcesContent":["// ToGIf.js \r\n// Renders frames into a GIF and returns a URL to the generated GIF\r\n\r\nimport GIF from 'gif.js';\r\n\r\nexport default async function ToGIF(frames, delay = 100) {\r\n  return new Promise((resolve) => {\r\n    const gif = new GIF({\r\n      workers: 2,\r\n      quality: 10,                    // lower is better quality\r\n      workerScript: process.env.PUBLIC_URL + '/gif.worker.js', // local worker\r\n    });\r\n\r\n    //Add each frame to the GIF\r\n    frames.forEach(frame => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = frame.width;\r\n      canvas.height = frame.height;\r\n      const context = canvas.getContext('2d');\r\n\r\n      // Copy RGBA pixels into canvas\r\n      const frameData = context.createImageData(frame.width, frame.height);\r\n      frameData.data.set(frame.patch);\r\n      context.putImageData(frameData, 0, 0);\r\n\r\n      //Adding the canvas as a frame\r\n      gif.addFrame(canvas, { delay });\r\n    });\r\n\r\n    // Return the generated GIF\r\n    gif.on('finished', blob => {\r\n      const url = URL.createObjectURL(blob);\r\n      resolve(url);\r\n    });\r\n\r\n    gif.render();\r\n  });\r\n};\r\n"],"mappings":"AAAA;AACA;AAEA,MAAO,CAAAA,GAAG,KAAM,QAAQ,CAExB,cAAe,eAAe,CAAAC,KAAKA,CAACC,MAAM,CAAe,IAAb,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,CACrD,MAAO,IAAI,CAAAG,OAAO,CAAEC,OAAO,EAAK,CAC9B,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAT,GAAG,CAAC,CAClBU,OAAO,CAAE,CAAC,CACVC,OAAO,CAAE,EAAE,CAAqB;AAChCC,YAAY,CAAEC,OAAO,CAACC,GAAG,CAACC,UAAU,CAAG,gBAAkB;AAC3D,CAAC,CAAC,CAEF;AACAb,MAAM,CAACc,OAAO,CAACC,KAAK,EAAI,CACtB,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,KAAK,CAAGJ,KAAK,CAACI,KAAK,CAC1BH,MAAM,CAACI,MAAM,CAAGL,KAAK,CAACK,MAAM,CAC5B,KAAM,CAAAC,OAAO,CAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC,CAEvC;AACA,KAAM,CAAAC,SAAS,CAAGF,OAAO,CAACG,eAAe,CAACT,KAAK,CAACI,KAAK,CAAEJ,KAAK,CAACK,MAAM,CAAC,CACpEG,SAAS,CAACE,IAAI,CAACC,GAAG,CAACX,KAAK,CAACY,KAAK,CAAC,CAC/BN,OAAO,CAACO,YAAY,CAACL,SAAS,CAAE,CAAC,CAAE,CAAC,CAAC,CAErC;AACAhB,GAAG,CAACsB,QAAQ,CAACb,MAAM,CAAE,CAAEf,KAAM,CAAC,CAAC,CACjC,CAAC,CAAC,CAEF;AACAM,GAAG,CAACuB,EAAE,CAAC,UAAU,CAAEC,IAAI,EAAI,CACzB,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC,CACrCzB,OAAO,CAAC0B,GAAG,CAAC,CACd,CAAC,CAAC,CAEFzB,GAAG,CAAC4B,MAAM,CAAC,CAAC,CACd,CAAC,CAAC,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}