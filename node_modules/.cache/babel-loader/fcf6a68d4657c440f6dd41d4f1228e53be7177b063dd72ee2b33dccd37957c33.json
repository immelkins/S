{"ast":null,"code":"//toBinary\n//This function converts an uploaded file into a binary string representation\nimport { encryptData, decryptData } from \"./ToBlackBox\";\nexport default async function ToBinary(file, password) {\n  if (!file) {\n    throw new Error(\"No file provided\");\n  }\n  if (!password || password.trim() === \"\") {\n    throw new Error(\"Password is required for encryption\");\n  }\n  const arrayBuffer = await file.arrayBuffer();\n  const bytes = new Uint8Array(arrayBuffer);\n  let binary = '';\n  for (let i = 0; i < bytes.length; i++) {\n    binary += bytes[i].toString(2).padStart(8, '0');\n  }\n  const {\n    encryptedData,\n    iv,\n    salt\n  } = await encryptData(binary, password);\n  const encryptedBinary = Array.from(encryptedData).map(byte => byte.toString(2).padStart(8, '0')).join('');\n  const metadata = {\n    iv,\n    salt,\n    originalLength: binary.length,\n    fileName: file.name,\n    fileType: file.type\n  };\n  const metadataStr = JSON.stringify(metadata);\n  let metadataBinary = '';\n  for (let i = 0; i < metadataStr.length; i++) {\n    metadataBinary += metadataStr.charCodeAt(i).toString(2).padStart(8, '0');\n  }\n  return {\n    bits: encryptedBinary,\n    metabits: metadataBinary\n  };\n}\n_c = ToBinary;\nvar _c;\n$RefreshReg$(_c, \"ToBinary\");","map":{"version":3,"names":["encryptData","decryptData","ToBinary","file","password","Error","trim","arrayBuffer","bytes","Uint8Array","binary","i","length","toString","padStart","encryptedData","iv","salt","encryptedBinary","Array","from","map","byte","join","metadata","originalLength","fileName","name","fileType","type","metadataStr","JSON","stringify","metadataBinary","charCodeAt","bits","metabits","_c","$RefreshReg$"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToBinary.js"],"sourcesContent":["//toBinary\r\n//This function converts an uploaded file into a binary string representation\r\nimport { encryptData, decryptData } from \"./ToBlackBox\";\r\n\r\nexport default async function ToBinary(file, password) {\r\n  if (!file) { throw new Error(\"No file provided\"); }\r\n  if (!password || password.trim() === \"\") { throw new Error(\"Password is required for encryption\"); }\r\n\r\n  const arrayBuffer = await file.arrayBuffer();\r\n  const bytes = new Uint8Array(arrayBuffer);\r\n\r\n  let binary = '';\r\n  for (let i = 0; i < bytes.length; i++) {\r\n    binary += bytes[i].toString(2).padStart(8, '0');\r\n  }\r\n\r\n  const { encryptedData, iv, salt } = await encryptData(binary, password);\r\n  const encryptedBinary = Array.from(encryptedData).map(byte => byte.toString(2).padStart(8, '0')).join('');\r\n\r\n  const metadata = {\r\n    iv,\r\n    salt,\r\n    originalLength: binary.length,\r\n    fileName: file.name,\r\n    fileType: file.type,\r\n  };\r\n\r\n  const metadataStr = JSON.stringify(metadata);\r\n  let metadataBinary = '';\r\n  for (let i = 0; i < metadataStr.length; i++) {\r\n    metadataBinary += metadataStr.charCodeAt(i).toString(2).padStart(8, '0');\r\n  }\r\n  return {\r\n    bits: encryptedBinary,\r\n    metabits: metadataBinary,\r\n  };\r\n}"],"mappings":"AAAA;AACA;AACA,SAASA,WAAW,EAAEC,WAAW,QAAQ,cAAc;AAEvD,eAAe,eAAeC,QAAQA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EACrD,IAAI,CAACD,IAAI,EAAE;IAAE,MAAM,IAAIE,KAAK,CAAC,kBAAkB,CAAC;EAAE;EAClD,IAAI,CAACD,QAAQ,IAAIA,QAAQ,CAACE,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;IAAE,MAAM,IAAID,KAAK,CAAC,qCAAqC,CAAC;EAAE;EAEnG,MAAME,WAAW,GAAG,MAAMJ,IAAI,CAACI,WAAW,CAAC,CAAC;EAC5C,MAAMC,KAAK,GAAG,IAAIC,UAAU,CAACF,WAAW,CAAC;EAEzC,IAAIG,MAAM,GAAG,EAAE;EACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IACrCD,MAAM,IAAIF,KAAK,CAACG,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACjD;EAEA,MAAM;IAAEC,aAAa;IAAEC,EAAE;IAAEC;EAAK,CAAC,GAAG,MAAMjB,WAAW,CAACU,MAAM,EAAEN,QAAQ,CAAC;EACvE,MAAMc,eAAe,GAAGC,KAAK,CAACC,IAAI,CAACL,aAAa,CAAC,CAACM,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACT,QAAQ,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAACS,IAAI,CAAC,EAAE,CAAC;EAEzG,MAAMC,QAAQ,GAAG;IACfR,EAAE;IACFC,IAAI;IACJQ,cAAc,EAAEf,MAAM,CAACE,MAAM;IAC7Bc,QAAQ,EAAEvB,IAAI,CAACwB,IAAI;IACnBC,QAAQ,EAAEzB,IAAI,CAAC0B;EACjB,CAAC;EAED,MAAMC,WAAW,GAAGC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAAC;EAC5C,IAAIS,cAAc,GAAG,EAAE;EACvB,KAAK,IAAItB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmB,WAAW,CAAClB,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3CsB,cAAc,IAAIH,WAAW,CAACI,UAAU,CAACvB,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAC1E;EACA,OAAO;IACLqB,IAAI,EAAEjB,eAAe;IACrBkB,QAAQ,EAAEH;EACZ,CAAC;AACH;AAACI,EAAA,GAhC6BnC,QAAQ;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}