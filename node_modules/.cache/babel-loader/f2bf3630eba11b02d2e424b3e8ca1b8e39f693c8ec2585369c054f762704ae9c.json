{"ast":null,"code":"import _objectSpread from\"C:/Users/mesco/OneDrive/Documents/GitHub/S/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// ToBits.js\n// Extract frames and bits from GIF\nimport{parseGIF,decompressFrames}from\"gifuct-js\";export default async function ToBits(file){try{const arrayBuffer=await file.arrayBuffer();const gif=parseGIF(arrayBuffer);const decompressedFrames=decompressFrames(gif,true);const logicalWidth=gif.lsd.width;const logicalHeight=gif.lsd.height;const safeFrames=decompressedFrames.map(frame=>_objectSpread(_objectSpread({},frame),{},{width:logicalWidth,height:logicalHeight}));const allBits=safeFrames.map(frame=>{let bits='';for(let i=0;i<frame.patch.length;i+=4){bits+=\"\".concat(frame.patch[i]).concat(frame.patch[i+1]).concat(frame.patch[i+2]).concat(frame.patch[i+3]);if((i+4)%(frame.width*4)===0)bits+='\\n';}return bits;});return{frames:safeFrames,allBits};}catch(err){console.error(err);throw new Error('Failed to parse GIF file.');}}","map":{"version":3,"names":["parseGIF","decompressFrames","ToBits","file","arrayBuffer","gif","decompressedFrames","logicalWidth","lsd","width","logicalHeight","height","safeFrames","map","frame","_objectSpread","allBits","bits","i","patch","length","concat","frames","err","console","error","Error"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToBits.js"],"sourcesContent":["// ToBits.js\r\n// Extract frames and bits from GIF\r\n\r\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\r\n\r\nexport default async function ToBits(file) {\r\n  try {\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    const gif = parseGIF(arrayBuffer);\r\n    const decompressedFrames = decompressFrames(gif, true);\r\n\r\n    const logicalWidth = gif.lsd.width;\r\n    const logicalHeight = gif.lsd.height;\r\n\r\n    const safeFrames = decompressedFrames.map(frame => ({\r\n      ...frame,\r\n      width: logicalWidth,\r\n      height: logicalHeight,\r\n    }));\r\n\r\n    const allBits = safeFrames.map(frame => {\r\n      let bits = '';\r\n      for (let i = 0; i < frame.patch.length; i += 4) {\r\n        bits += `${frame.patch[i]}${frame.patch[i + 1]}${frame.patch[i + 2]}${frame.patch[i + 3]}`;\r\n        if ((i + 4) % (frame.width * 4) === 0) bits += '\\n';\r\n      }\r\n      return bits;\r\n    });\r\n\r\n    return { frames: safeFrames, allBits };\r\n  } catch (err) {\r\n    console.error(err);\r\n    throw new Error('Failed to parse GIF file.');\r\n  }\r\n}\r\n"],"mappings":"+HAAA;AACA;AAEA,OAASA,QAAQ,CAAEC,gBAAgB,KAAQ,WAAW,CAEtD,cAAe,eAAe,CAAAC,MAAMA,CAACC,IAAI,CAAE,CACzC,GAAI,CACF,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAD,IAAI,CAACC,WAAW,CAAC,CAAC,CAC5C,KAAM,CAAAC,GAAG,CAAGL,QAAQ,CAACI,WAAW,CAAC,CACjC,KAAM,CAAAE,kBAAkB,CAAGL,gBAAgB,CAACI,GAAG,CAAE,IAAI,CAAC,CAEtD,KAAM,CAAAE,YAAY,CAAGF,GAAG,CAACG,GAAG,CAACC,KAAK,CAClC,KAAM,CAAAC,aAAa,CAAGL,GAAG,CAACG,GAAG,CAACG,MAAM,CAEpC,KAAM,CAAAC,UAAU,CAAGN,kBAAkB,CAACO,GAAG,CAACC,KAAK,EAAAC,aAAA,CAAAA,aAAA,IAC1CD,KAAK,MACRL,KAAK,CAAEF,YAAY,CACnBI,MAAM,CAAED,aAAa,EACrB,CAAC,CAEH,KAAM,CAAAM,OAAO,CAAGJ,UAAU,CAACC,GAAG,CAACC,KAAK,EAAI,CACtC,GAAI,CAAAG,IAAI,CAAG,EAAE,CACb,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,KAAK,CAACK,KAAK,CAACC,MAAM,CAAEF,CAAC,EAAI,CAAC,CAAE,CAC9CD,IAAI,KAAAI,MAAA,CAAOP,KAAK,CAACK,KAAK,CAACD,CAAC,CAAC,EAAAG,MAAA,CAAGP,KAAK,CAACK,KAAK,CAACD,CAAC,CAAG,CAAC,CAAC,EAAAG,MAAA,CAAGP,KAAK,CAACK,KAAK,CAACD,CAAC,CAAG,CAAC,CAAC,EAAAG,MAAA,CAAGP,KAAK,CAACK,KAAK,CAACD,CAAC,CAAG,CAAC,CAAC,CAAE,CAC1F,GAAI,CAACA,CAAC,CAAG,CAAC,GAAKJ,KAAK,CAACL,KAAK,CAAG,CAAC,CAAC,GAAK,CAAC,CAAEQ,IAAI,EAAI,IAAI,CACrD,CACA,MAAO,CAAAA,IAAI,CACb,CAAC,CAAC,CAEF,MAAO,CAAEK,MAAM,CAAEV,UAAU,CAAEI,OAAQ,CAAC,CACxC,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClB,KAAM,IAAI,CAAAG,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}