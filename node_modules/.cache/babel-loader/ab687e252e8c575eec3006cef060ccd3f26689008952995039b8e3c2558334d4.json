{"ast":null,"code":"// stego.js\n// Encodes / decodes uploaded files into GIFs using LSB steganography\n\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport ToBinary from \"./ToBinary\";\n//import { encodeGIF, decodeGIF } from \"./gifStego\";\n\n/* =========================\n   ENCODE\n========================= */\n\nexport async function encodeFromUpload(gifFile, payloadFile, key = \"\") {\n  if (!gifFile) throw new Error(\"No GIF file provided\");\n  if (!payloadFile) throw new Error(\"No payload file provided\");\n\n  // 1. Convert payload file → binary\n  const binaryPayload = await ToBinary(payloadFile);\n\n  // 2. Decode GIF → frames\n  const gifBuffer = await gifFile.arrayBuffer();\n  const gif = parseGIF(gifBuffer);\n  const frames = decompressFrames(gif, true); // true = build patches\n\n  // 3. Encode payload into frames\n  const encodedFrames = encodeGIF(frames, binaryPayload, key);\n\n  // 4. Return encoded frames (Home.js will rebuild GIF)\n  return encodedFrames;\n}\n\n/* =========================\n   DECODE\n========================= */\n\nexport async function decodeFromUpload(gifFile, key = \"\") {\n  if (!gifFile) throw new Error(\"No GIF file provided\");\n\n  // 1. Decode GIF → frames\n  const gifBuffer = await gifFile.arrayBuffer();\n  const gif = parseGIF(gifBuffer);\n  const frames = decompressFrames(gif, true);\n\n  // 2. Extract binary payload\n  const binaryPayload = decodeGIF(frames, key);\n  return binaryPayload;\n}","map":{"version":3,"names":["parseGIF","decompressFrames","ToBinary","encodeFromUpload","gifFile","payloadFile","key","Error","binaryPayload","gifBuffer","arrayBuffer","gif","frames","encodedFrames","encodeGIF","decodeFromUpload","decodeGIF"],"sources":["/Users/melvinescobar/Steganography/src/components/Stego.js"],"sourcesContent":["// stego.js\n// Encodes / decodes uploaded files into GIFs using LSB steganography\n\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport ToBinary from \"./ToBinary\";\n//import { encodeGIF, decodeGIF } from \"./gifStego\";\n\n/* =========================\n   ENCODE\n========================= */\n\nexport async function encodeFromUpload(gifFile, payloadFile, key = \"\") {\n  if (!gifFile) throw new Error(\"No GIF file provided\");\n  if (!payloadFile) throw new Error(\"No payload file provided\");\n\n  // 1. Convert payload file → binary\n  const binaryPayload = await ToBinary(payloadFile);\n\n  // 2. Decode GIF → frames\n  const gifBuffer = await gifFile.arrayBuffer();\n  const gif = parseGIF(gifBuffer);\n  const frames = decompressFrames(gif, true); // true = build patches\n\n  // 3. Encode payload into frames\n  const encodedFrames = encodeGIF(frames, binaryPayload, key);\n\n  // 4. Return encoded frames (Home.js will rebuild GIF)\n  return encodedFrames;\n}\n\n/* =========================\n   DECODE\n========================= */\n\nexport async function decodeFromUpload(gifFile, key = \"\") {\n  if (!gifFile) throw new Error(\"No GIF file provided\");\n\n  // 1. Decode GIF → frames\n  const gifBuffer = await gifFile.arrayBuffer();\n  const gif = parseGIF(gifBuffer);\n  const frames = decompressFrames(gif, true);\n\n  // 2. Extract binary payload\n  const binaryPayload = decodeGIF(frames, key);\n\n  return binaryPayload;\n}\n"],"mappings":"AAAA;AACA;;AAEA,SAASA,QAAQ,EAAEC,gBAAgB,QAAQ,WAAW;AACtD,OAAOC,QAAQ,MAAM,YAAY;AACjC;;AAEA;AACA;AACA;;AAEA,OAAO,eAAeC,gBAAgBA,CAACC,OAAO,EAAEC,WAAW,EAAEC,GAAG,GAAG,EAAE,EAAE;EACrE,IAAI,CAACF,OAAO,EAAE,MAAM,IAAIG,KAAK,CAAC,sBAAsB,CAAC;EACrD,IAAI,CAACF,WAAW,EAAE,MAAM,IAAIE,KAAK,CAAC,0BAA0B,CAAC;;EAE7D;EACA,MAAMC,aAAa,GAAG,MAAMN,QAAQ,CAACG,WAAW,CAAC;;EAEjD;EACA,MAAMI,SAAS,GAAG,MAAML,OAAO,CAACM,WAAW,CAAC,CAAC;EAC7C,MAAMC,GAAG,GAAGX,QAAQ,CAACS,SAAS,CAAC;EAC/B,MAAMG,MAAM,GAAGX,gBAAgB,CAACU,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;;EAE5C;EACA,MAAME,aAAa,GAAGC,SAAS,CAACF,MAAM,EAAEJ,aAAa,EAAEF,GAAG,CAAC;;EAE3D;EACA,OAAOO,aAAa;AACtB;;AAEA;AACA;AACA;;AAEA,OAAO,eAAeE,gBAAgBA,CAACX,OAAO,EAAEE,GAAG,GAAG,EAAE,EAAE;EACxD,IAAI,CAACF,OAAO,EAAE,MAAM,IAAIG,KAAK,CAAC,sBAAsB,CAAC;;EAErD;EACA,MAAME,SAAS,GAAG,MAAML,OAAO,CAACM,WAAW,CAAC,CAAC;EAC7C,MAAMC,GAAG,GAAGX,QAAQ,CAACS,SAAS,CAAC;EAC/B,MAAMG,MAAM,GAAGX,gBAAgB,CAACU,GAAG,EAAE,IAAI,CAAC;;EAE1C;EACA,MAAMH,aAAa,GAAGQ,SAAS,CAACJ,MAAM,EAAEN,GAAG,CAAC;EAE5C,OAAOE,aAAa;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}