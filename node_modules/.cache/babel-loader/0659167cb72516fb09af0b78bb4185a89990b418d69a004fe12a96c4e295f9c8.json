{"ast":null,"code":"import _objectSpread from\"C:/Users/mesco/OneDrive/Documents/GitHub/S/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Encryption.js\nimport{useEffect,useState}from\"react\";import ToGIF from\"./ToGIF\";import ToBits from\"./ToBits\";import ToBinary from\"./ToBinary\";import\"../stylesheets/Frames.css\";import\"../stylesheets/Popup.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HEADER_BITS=[1,0,1,0,1,0,1,1];const PIXELS_PER_CHUNK=500;async function generateFramePreviews(frames,setFramePreviews){const previews=[];for(let i=0;i<frames.length;i++){const frame=frames[i];const canvas=document.createElement(\"canvas\");canvas.width=frame.width;canvas.height=frame.height;const ctx=canvas.getContext(\"2d\");const imageData=ctx.createImageData(frame.width,frame.height);imageData.data.set(frame.patch);ctx.putImageData(imageData,0,0);previews.push(canvas.toDataURL(\"image/png\"));}setFramePreviews(previews);}function spatialEncode(frames,bitstream){const encodedFrames=[...frames];let bitIndex=0;for(const frame of encodedFrames){const patch=frame.patch;for(let i=0;i<patch.length;i+=4){if(bitIndex>=bitstream.length)break;patch[i+2]=patch[i+2]&~1|bitstream[bitIndex];bitIndex++;}if(bitIndex>=bitstream.length)break;}return encodedFrames;}function getCapacity(frames){return frames.reduce((sum,f)=>sum+f.patch.length/4,0);}export default function Encryption(){const[gifFile,setGifFile]=useState(null);const[messageFile,setMessageFile]=useState(null);const[frames,setFrames]=useState([]);const[framePreviews,setFramePreviews]=useState([]);const[payload,setPayload]=useState(null);const[error,setError]=useState(null);const[popupData,setPopupData]=useState(null);const handleGIFChange=e=>{const file=e.target.files[0];if(!file||!file.type.includes(\"gif\")&&!file.name.endsWith(\".gif\")){setError(\"Please upload a valid GIF\");return;}setError(null);setGifFile(file);};const handleMessageFileChange=e=>{const file=e.target.files[0];if(!file)return;setMessageFile(file);};useEffect(()=>{if(!gifFile)return;setFrames([]);setFramePreviews([]);setPayload(null);setError(null);ToBits(gifFile).then(_ref=>{let{frames}=_ref;return setFrames(frames);}).catch(err=>setError(err.message));},[gifFile]);useEffect(()=>{if(frames.length)generateFramePreviews(frames,setFramePreviews);},[frames]);// Rebuild when message file changes\nuseEffect(()=>{if(!messageFile){setPayload(null);return;}(async()=>{try{const payloadData=await ToBinary(messageFile);if(frames.length){const capacity=getCapacity(frames);const fullBitstream=[...HEADER_BITS,...payloadData.metabits,...payloadData.bits];if(fullBitstream.length>capacity){setError(\"Message too large for this GIF\");setPayload(null);return;}}setPayload(payloadData);setError(null);}catch(err){setError(err.message);setPayload(null);}})();},[messageFile,frames]);const handleEncrypt=async()=>{if(!frames.length||!payload)return;const fullBitstream=[...HEADER_BITS,...payload.metabits,...payload.bits];const bytes=[];for(let i=0;i<fullBitstream.length;i+=8){const byte=fullBitstream.slice(i,i+8).reverse().reduce((acc,bit,index)=>acc+bit*(1<<index),0);bytes.push(byte);}const encodedFrames=spatialEncode(frames,fullBitstream);const gifURL=await ToGIF(encodedFrames);const a=document.createElement(\"a\");a.href=gifURL;a.download=\"encrypted_\".concat(gifFile.name);a.click();};const handleFrameClick=(frame,index)=>{const pixels=frame.patch;const pixelArray=[];for(let i=0;i<pixels.length;i+=4){const r=pixels[i];const g=pixels[i+1];const b=pixels[i+2];const a=pixels[i+3];const rgbaString=\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\", \").concat(a/255,\")\");pixelArray.push({rgba:rgbaString,values:[r,g,b,a]});}setPopupData({frameIndex:index,pixels:pixelArray,visibleCount:PIXELS_PER_CHUNK});};const handleScroll=e=>{const target=e.target;if(target.scrollTop+target.clientHeight>=target.scrollHeight-20){setPopupData(prev=>prev?_objectSpread(_objectSpread({},prev),{},{visibleCount:Math.min(prev.visibleCount+PIXELS_PER_CHUNK,prev.pixels.length)}):prev);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"GIF Message Encryption\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/gif\",onChange:handleGIFChange}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleMessageFileChange}),frames.length>0&&/*#__PURE__*/_jsxs(\"p\",{children:[frames.length,\" frames extracted from GIF\"]}),payload&&frames.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleEncrypt,children:\"Encrypt Message\"}),payload&&frames.length>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Message uses \",payload.bits.length+payload.metabits.length,\" bits of\",\" \",getCapacity(frames),\" available\"]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),framePreviews.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"frames\",children:framePreviews.map((src,i)=>/*#__PURE__*/_jsx(\"img\",{src:src,className:\"canvas\",style:{cursor:\"pointer\",marginBottom:\"10px\"},onClick:()=>handleFrameClick(frames[i],i),alt:\"Frame \".concat(i)},i))}),popupData&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:()=>setPopupData(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",onClick:e=>e.stopPropagation(),onScroll:handleScroll,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Frame \",popupData.frameIndex,\" RGBA Values\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"pixel-grid\",children:popupData.pixels.slice(0,popupData.visibleCount).map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"pixel-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pixel-color\",style:{background:p.rgba}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Pixel \",i,\": [\",p.values.join(\", \"),\"]\"]})]},i))})]})})]});}","map":{"version":3,"names":["useEffect","useState","ToGIF","ToBits","ToBinary","jsx","_jsx","jsxs","_jsxs","HEADER_BITS","PIXELS_PER_CHUNK","generateFramePreviews","frames","setFramePreviews","previews","i","length","frame","canvas","document","createElement","width","height","ctx","getContext","imageData","createImageData","data","set","patch","putImageData","push","toDataURL","spatialEncode","bitstream","encodedFrames","bitIndex","getCapacity","reduce","sum","f","Encryption","gifFile","setGifFile","messageFile","setMessageFile","setFrames","framePreviews","payload","setPayload","error","setError","popupData","setPopupData","handleGIFChange","e","file","target","files","type","includes","name","endsWith","handleMessageFileChange","then","_ref","catch","err","message","payloadData","capacity","fullBitstream","metabits","bits","handleEncrypt","bytes","byte","slice","reverse","acc","bit","index","gifURL","a","href","download","concat","click","handleFrameClick","pixels","pixelArray","r","g","b","rgbaString","rgba","values","frameIndex","visibleCount","handleScroll","scrollTop","clientHeight","scrollHeight","prev","_objectSpread","Math","min","children","accept","onChange","onClick","className","map","src","style","cursor","marginBottom","alt","stopPropagation","onScroll","p","background","join"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/Encryption.js"],"sourcesContent":["// Encryption.js\r\nimport { useEffect, useState } from \"react\";\r\nimport ToGIF from \"./ToGIF\";\r\nimport ToBits from \"./ToBits\";\r\nimport ToBinary from \"./ToBinary\";\r\nimport \"../stylesheets/Frames.css\";\r\nimport \"../stylesheets/Popup.css\";\r\n\r\nconst HEADER_BITS = [1,0,1,0,1,0,1,1];\r\nconst PIXELS_PER_CHUNK = 500;\r\n\r\nasync function generateFramePreviews(frames, setFramePreviews) {\r\n\tconst previews = [];\r\n\tfor (let i = 0; i < frames.length; i++) {\r\n\t\tconst frame = frames[i];\r\n\t\tconst canvas = document.createElement(\"canvas\");\r\n\t\tcanvas.width = frame.width;\r\n\t\tcanvas.height = frame.height;\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\tconst imageData = ctx.createImageData(frame.width, frame.height);\r\n\t\timageData.data.set(frame.patch);\r\n\t\tctx.putImageData(imageData, 0, 0);\r\n\t\tpreviews.push(canvas.toDataURL(\"image/png\"));\r\n\t}\r\n\tsetFramePreviews(previews);\r\n}\r\n\r\nfunction spatialEncode(frames, bitstream) {\r\n\tconst encodedFrames = [...frames];\r\n\tlet bitIndex = 0;\r\n\r\n\tfor (const frame of encodedFrames) {\r\n\t\tconst patch = frame.patch;\r\n\t\tfor (let i = 0; i < patch.length; i += 4) {\r\n\t\t\tif (bitIndex >= bitstream.length) break;\r\n\t\t\tpatch[i + 2] = (patch[i + 2] & ~1) | bitstream[bitIndex];\r\n\t\t\tbitIndex++;\r\n\t\t}\r\n\t\tif (bitIndex >= bitstream.length) break;\r\n\t}\r\n\treturn encodedFrames;\r\n}\r\n\r\nfunction getCapacity(frames) {\r\n\treturn frames.reduce((sum, f) => sum + f.patch.length / 4, 0);\r\n}\r\n\r\nexport default function Encryption() {\r\n\tconst [gifFile, setGifFile] = useState(null);\r\n\tconst [messageFile, setMessageFile] = useState(null);\r\n\tconst [frames, setFrames] = useState([]);\r\n\tconst [framePreviews, setFramePreviews] = useState([]);\r\n\tconst [payload, setPayload] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\tconst [popupData, setPopupData] = useState(null);\r\n\r\n\tconst handleGIFChange = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tif (!file || (!file.type.includes(\"gif\") && !file.name.endsWith(\".gif\"))) {\r\n\t\t\tsetError(\"Please upload a valid GIF\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetError(null);\r\n\t\tsetGifFile(file);\r\n\t};\r\n\r\n\tconst handleMessageFileChange = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tif (!file) return;\r\n\t\tsetMessageFile(file);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!gifFile) return;\r\n\r\n\t\tsetFrames([]);\r\n\t\tsetFramePreviews([]);\r\n\t\tsetPayload(null);\r\n\t\tsetError(null);\r\n\r\n\t\tToBits(gifFile)\r\n\t\t\t.then(({ frames }) => setFrames(frames))\r\n\t\t\t.catch((err) => setError(err.message));\r\n\t}, [gifFile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (frames.length) generateFramePreviews(frames, setFramePreviews);\r\n\t}, [frames]);\r\n\r\n\t// Rebuild when message file changes\r\n\tuseEffect(() => {\r\n\t\tif (!messageFile) {\r\n\t\t\tsetPayload(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst payloadData = await ToBinary(messageFile);\r\n\r\n\t\t\t\tif (frames.length) {\r\n\t\t\t\t\tconst capacity = getCapacity(frames);\r\n\t\t\t\t\tconst fullBitstream = [\r\n\t\t\t\t\t\t...HEADER_BITS,\r\n\t\t\t\t\t\t...payloadData.metabits,\r\n\t\t\t\t\t\t...payloadData.bits,\r\n\t\t\t\t\t];\r\n\t\t\t\t\tif (fullBitstream.length > capacity) {\r\n\t\t\t\t\t\tsetError(\"Message too large for this GIF\");\r\n\t\t\t\t\t\tsetPayload(null);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetPayload(payloadData);\r\n\t\t\t\tsetError(null);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t\tsetPayload(null);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [messageFile, frames]);\r\n\r\n\tconst handleEncrypt = async () => {\r\n\t\tif (!frames.length || !payload) return;\r\n\r\n\t\tconst fullBitstream = [\r\n\t\t\t...HEADER_BITS,\r\n\t\t\t...payload.metabits,\r\n\t\t\t...payload.bits,\r\n\t\t];\r\n\r\n\t\tconst bytes = [];\r\n\t\tfor (let i = 0; i < fullBitstream.length; i += 8) {\r\n\t\t\tconst byte = fullBitstream\r\n\t\t\t\t.slice(i, i + 8)\r\n\t\t\t\t.reverse()\r\n\t\t\t\t.reduce((acc, bit, index) => acc + bit * (1 << index), 0);\r\n\t\t\tbytes.push(byte);\r\n\t\t}\r\n\r\n\t\tconst encodedFrames = spatialEncode(frames, fullBitstream);\r\n\t\tconst gifURL = await ToGIF(encodedFrames);\r\n\r\n\t\tconst a = document.createElement(\"a\");\r\n\t\ta.href = gifURL;\r\n\t\ta.download = `encrypted_${gifFile.name}`;\r\n\t\ta.click();\r\n\t};\r\n\r\n\tconst handleFrameClick = (frame, index) => {\r\n\t\tconst pixels = frame.patch;\r\n\t\tconst pixelArray = [];\r\n\r\n\t\tfor (let i = 0; i < pixels.length; i += 4) {\r\n\t\t\tconst r = pixels[i];\r\n\t\t\tconst g = pixels[i + 1];\r\n\t\t\tconst b = pixels[i + 2];\r\n\t\t\tconst a = pixels[i + 3];\r\n\t\t\tconst rgbaString = `rgba(${r}, ${g}, ${b}, ${a / 255})`;\r\n\t\t\tpixelArray.push({\r\n\t\t\t\trgba: rgbaString,\r\n\t\t\t\tvalues: [r, g, b, a],\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetPopupData({\r\n\t\t\tframeIndex: index,\r\n\t\t\tpixels: pixelArray,\r\n\t\t\tvisibleCount: PIXELS_PER_CHUNK,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = (e) => {\r\n\t\tconst target = e.target;\r\n\t\tif (\r\n\t\t\ttarget.scrollTop + target.clientHeight >=\r\n\t\t\ttarget.scrollHeight - 20\r\n\t\t) {\r\n\t\t\tsetPopupData((prev) =>\r\n\t\t\t\tprev\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tvisibleCount: Math.min(\r\n\t\t\t\t\t\t\tprev.visibleCount + PIXELS_PER_CHUNK,\r\n\t\t\t\t\t\t\tprev.pixels.length\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}\r\n\t\t\t\t\t: prev\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>GIF Message Encryption</h2>\r\n\r\n\t\t\t<input type=\"file\" accept=\"image/gif\" onChange={handleGIFChange} />\r\n\t\t\t<input type=\"file\" onChange={handleMessageFileChange} />\r\n\r\n\t\t\t{frames.length > 0 && <p>{frames.length} frames extracted from GIF</p>}\r\n\r\n\t\t\t{payload && frames.length > 0 && (\r\n\t\t\t\t<button onClick={handleEncrypt}>Encrypt Message</button>\r\n\t\t\t)}\r\n\r\n\t\t\t{payload && frames.length > 0 && (\r\n\t\t\t\t<p>\r\n\t\t\t\t\tMessage uses {payload.bits.length + payload.metabits.length} bits of{\" \"}\r\n\t\t\t\t\t{getCapacity(frames)} available\r\n\t\t\t\t</p>\r\n\t\t\t)}\r\n\r\n\t\t\t{error && <p className=\"error\">{error}</p>}\r\n\r\n\t\t\t{framePreviews.length > 0 && (\r\n\t\t\t\t<div className=\"frames\">\r\n\t\t\t\t\t{framePreviews.map((src, i) => (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tsrc={src}\r\n\t\t\t\t\t\t\tclassName=\"canvas\"\r\n\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", marginBottom: \"10px\" }}\r\n\t\t\t\t\t\t\tonClick={() => handleFrameClick(frames[i], i)}\r\n\t\t\t\t\t\t\talt={`Frame ${i}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{popupData && (\r\n\t\t\t\t<div className=\"popup-overlay\" onClick={() => setPopupData(null)}>\r\n\t\t\t\t\t<div className=\"popup-content\" onClick={(e) => e.stopPropagation()} onScroll={handleScroll}>\r\n\t\t\t\t\t\t<h3>Frame {popupData.frameIndex} RGBA Values</h3>\r\n\t\t\t\t\t\t<div className=\"pixel-grid\">\r\n\t\t\t\t\t\t\t{popupData.pixels\r\n\t\t\t\t\t\t\t\t.slice(0, popupData.visibleCount)\r\n\t\t\t\t\t\t\t\t.map((p, i) => (\r\n\t\t\t\t\t\t\t\t\t<div key={i} className=\"pixel-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pixel-color\" style={{ background: p.rgba }} />\r\n\t\t\t\t\t\t\t\t\t\t<span>Pixel {i}: [{p.values.join(\", \")}]</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}