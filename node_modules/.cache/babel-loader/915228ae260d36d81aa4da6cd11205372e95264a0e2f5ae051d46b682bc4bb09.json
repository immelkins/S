{"ast":null,"code":"var _jsxFileName = \"/Users/melvinescobar/Steganography/src/components/GifSection.js\",\n  _s = $RefreshSig$();\n/*import { useEffect, useState, useRef } from \"react\";\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport '../stylesheets/Frames.css';\n\nasync function extractedBits(file, setFrames, setError, setAllBits) {\n  try {\n    const arrayBuffer = await file.arrayBuffer();\n    const gif = parseGIF(arrayBuffer);\n    const decompressedFrames = decompressFrames(gif, true);\n\n    //Ensures width and height exist\n    const logicalWidth = gif.lsd.width;\n    const logicalHeight = gif.lsd.height;\n\n    const safeFrames = decompressedFrames.map(frame => ({\n      ...frame,\n      width: logicalWidth,\n      height: logicalHeight,\n    }));\n\n    setFrames(safeFrames);\n\n    // Generate bits for all frames\n    const allBits = safeFrames.map((frame, index) => {\n      let bits = '';\n      for (let i = 0; i < frame.patch.length; i += 4) {\n        bits += `${frame.patch[i]}${frame.patch[i + 1]}${frame.patch[i + 2]}${frame.patch[i + 3]}`;\n        if ((i + 4) % (frame.width * 4) === 0) {\n          bits += '\\n';\n        }\n      }\n      return bits;\n    });\n\n    setAllBits(allBits);\n\n  } catch (err) {\n    console.error(err);\n    setError('Failed to parse GIF file.');\n  }\n}\n\nasync function generateFramePreviews(frames, setFramePreviews) {\n  const previews = [];\n  for (const frame of frames) {\n    const { width, height, patch } = frame;\n\n    if (isNaN(width) || isNaN(height) || width <= 0 || height <= 0) {\n      console.error('Invalid frame dimensions:', width, height);\n      continue;\n    }\n\n    // Create a canvas\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Copy RGBA pixels into canvas\n    const imageData = ctx.createImageData(width, height);\n    imageData.data.set(patch);\n    ctx.putImageData(imageData, 0, 0);\n\n    // Canvas → PNG data URL\n    const url = canvas.toDataURL(\"image/png\");\n    previews.push(url);\n  }\n\n  setFramePreviews(previews);\n}\n\nconst handleFrameClick = (frame, i, setSelectedFrame) => {\n  const pixelsPerRow = 6;\n  let formattedBits = '';\n  for (let j = 0; j < frame.patch.length; j += 4 * pixelsPerRow) {\n    for (let k = 0; k < pixelsPerRow; k++) {\n      if (j + k * 4 >= frame.patch.length) break;\n      const r = String(frame.patch[j + k * 4]).padStart(3, '_');\n      const g = String(frame.patch[j + k * 4 + 1]).padStart(3, '_');\n      const b = String(frame.patch[j + k * 4 + 2]).padStart(3, '_');\n      const a = String(frame.patch[j + k * 4 + 3]).padStart(3, '_');\n      formattedBits += `[${r}, ${g}, ${b}, ${a}]`;\n    }\n    formattedBits += '\\n';\n  }\n  setSelectedFrame({ frame: i + 1, bits: formattedBits });\n};\n\nexport default function GifSection() {\n  const [frames, setFrames] = useState([]);\n  const [fileName, setFileName] = useState('');\n  const [error, setError] = useState(null);\n  const [framePreviews, setFramePreviews] = useState([]);\n  const [file, setFile] = useState(null);\n  const [selectedFrame, setSelectedFrame] = useState(null);\n  const [allBits, setAllBits] = useState([]);\n\n  const handleFileChange = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (file.type !== 'image/gif') {\n      setError('Please upload a valid GIF file.');\n      return;\n    }\n\n    setError(null);\n    setFileName(file.name);\n    setFile(file);\n  }\n\n  useEffect(() => {\n    if (file) {\n      extractedBits(file, setFrames, setError, setAllBits);\n    }\n  }, [file]);\n\n  useEffect(() => {\n    if (frames.length === 0) return;\n    generateFramePreviews(frames, setFramePreviews);\n  }, [frames]);\n\n  return (\n    <div>\n      <input type=\"file\" accept=\"image/gif\" onChange={handleFileChange} />\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {fileName && <p>Uploaded GIF: {fileName}</p>}\n\n      {frames.length > 0 && (\n        <div className=\"frame-container\">\n          <p>Frames extracted: {frames.length}</p>\n          <div className=\"frames\">\n            {framePreviews.map((src, index) => (\n              <div key={index} className=\"frame\">\n                <p>Frame {index}</p>\n                <img src={src} className=\"canvas\" onClick={() => handleFrameClick(frames[index], index, setSelectedFrame, allBits)}/>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {selectedFrame && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h2>Frame {selectedFrame.frame} Bits</h2>\n            <pre>{selectedFrame.bits}</pre>\n            <button onClick={() => setSelectedFrame(null)}>Close</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n*/\n\nimport { useState, useEffect } from \"react\";\nimport { encodeFromUpload } from \"../utils/stego\";\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport '../stylesheets/Frames.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GifSection() {\n  _s();\n  const [gifFile, setGifFile] = useState(null);\n  const [payloadFile, setPayloadFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [error, setError] = useState(null);\n  const [frames, setFrames] = useState([]);\n  const [framePreviews, setFramePreviews] = useState([]);\n  const [selectedFrame, setSelectedFrame] = useState(null);\n\n  // Upload GIF\n  const handleGifUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (file.type !== \"image/gif\") {\n      setError(\"Please upload a valid GIF file.\");\n      return;\n    }\n    setGifFile(file);\n    setFileName(file.name);\n    setError(null);\n  };\n\n  // Upload payload\n  const handlePayloadUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setPayloadFile(file);\n  };\n\n  // Extract frames for preview\n  useEffect(() => {\n    const extractFrames = async () => {\n      if (!gifFile) return;\n      try {\n        const buffer = await gifFile.arrayBuffer();\n        const gif = parseGIF(buffer);\n        const decompressedFrames = decompressFrames(gif, true);\n        const logicalWidth = gif.lsd.width;\n        const logicalHeight = gif.lsd.height;\n        const safeFrames = decompressedFrames.map(frame => ({\n          ...frame,\n          width: logicalWidth,\n          height: logicalHeight\n        }));\n        setFrames(safeFrames);\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to parse GIF.\");\n      }\n    };\n    extractFrames();\n  }, [gifFile]);\n\n  // Generate frame previews\n  useEffect(() => {\n    const generatePreviews = async () => {\n      const previews = [];\n      for (const frame of frames) {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = frame.width;\n        canvas.height = frame.height;\n        const ctx = canvas.getContext(\"2d\");\n        const imageData = ctx.createImageData(frame.width, frame.height);\n        imageData.data.set(frame.patch);\n        ctx.putImageData(imageData, 0, 0);\n        previews.push(canvas.toDataURL(\"image/png\"));\n      }\n      setFramePreviews(previews);\n    };\n    if (frames.length > 0) generatePreviews();\n  }, [frames]);\n\n  // Handle frame click to show RGBA values\n  const handleFrameClick = (frame, i) => {\n    const pixelsPerRow = 6;\n    let formattedBits = '';\n    for (let j = 0; j < frame.patch.length; j += 4 * pixelsPerRow) {\n      for (let k = 0; k < pixelsPerRow; k++) {\n        if (j + k * 4 >= frame.patch.length) break;\n        const r = String(frame.patch[j + k * 4]).padStart(3, '_');\n        const g = String(frame.patch[j + k * 4 + 1]).padStart(3, '_');\n        const b = String(frame.patch[j + k * 4 + 2]).padStart(3, '_');\n        const a = String(frame.patch[j + k * 4 + 3]).padStart(3, '_');\n        formattedBits += `[${r}, ${g}, ${b}, ${a}]`;\n      }\n      formattedBits += '\\n';\n    }\n    setSelectedFrame({\n      frame: i + 1,\n      bits: formattedBits\n    });\n  };\n\n  // Encode payload into GIF\n  const handleEncode = async () => {\n    if (!gifFile || !payloadFile) {\n      setError(\"Please upload both a GIF and a payload file.\");\n      return;\n    }\n    try {\n      const encodedFrames = await encodeFromUpload(gifFile, payloadFile);\n      console.log(\"Encoded frames:\", encodedFrames);\n      alert(\"Payload encoded successfully! Check console for frames.\");\n    } catch (err) {\n      console.error(err);\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Steganography GIF Encoder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload GIF:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/gif\",\n        onChange: handleGifUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload Payload:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handlePayloadUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEncode,\n      children: \"Encode GIF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), fileName && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Uploaded GIF: \", fileName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 20\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }, this), frames.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"frame-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Frames extracted: \", frames.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"frames\",\n        children: framePreviews.map((src, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"frame\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Frame \", index]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src,\n            className: \"canvas\",\n            onClick: () => handleFrameClick(frames[index], index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this), selectedFrame && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Frame \", selectedFrame.frame, \" Bits\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: selectedFrame.bits\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedFrame(null),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n}\n_s(GifSection, \"lMkZs+cxeSDWVjQ/M07NsUK8SfA=\");\n_c = GifSection;\nvar _c;\n$RefreshReg$(_c, \"GifSection\");","map":{"version":3,"names":["useState","useEffect","encodeFromUpload","parseGIF","decompressFrames","jsxDEV","_jsxDEV","GifSection","_s","gifFile","setGifFile","payloadFile","setPayloadFile","fileName","setFileName","error","setError","frames","setFrames","framePreviews","setFramePreviews","selectedFrame","setSelectedFrame","handleGifUpload","event","file","target","files","type","name","handlePayloadUpload","extractFrames","buffer","arrayBuffer","gif","decompressedFrames","logicalWidth","lsd","width","logicalHeight","height","safeFrames","map","frame","err","console","generatePreviews","previews","canvas","document","createElement","ctx","getContext","imageData","createImageData","data","set","patch","putImageData","push","toDataURL","length","handleFrameClick","i","pixelsPerRow","formattedBits","j","k","r","String","padStart","g","b","a","bits","handleEncode","encodedFrames","log","alert","message","children","_jsxFileName","lineNumber","columnNumber","accept","onChange","onClick","style","color","className","src","index","_c","$RefreshReg$"],"sources":["/Users/melvinescobar/Steganography/src/components/GifSection.js"],"sourcesContent":["/*import { useEffect, useState, useRef } from \"react\";\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport '../stylesheets/Frames.css';\n\nasync function extractedBits(file, setFrames, setError, setAllBits) {\n  try {\n    const arrayBuffer = await file.arrayBuffer();\n    const gif = parseGIF(arrayBuffer);\n    const decompressedFrames = decompressFrames(gif, true);\n\n    //Ensures width and height exist\n    const logicalWidth = gif.lsd.width;\n    const logicalHeight = gif.lsd.height;\n\n    const safeFrames = decompressedFrames.map(frame => ({\n      ...frame,\n      width: logicalWidth,\n      height: logicalHeight,\n    }));\n\n    setFrames(safeFrames);\n\n    // Generate bits for all frames\n    const allBits = safeFrames.map((frame, index) => {\n      let bits = '';\n      for (let i = 0; i < frame.patch.length; i += 4) {\n        bits += `${frame.patch[i]}${frame.patch[i + 1]}${frame.patch[i + 2]}${frame.patch[i + 3]}`;\n        if ((i + 4) % (frame.width * 4) === 0) {\n          bits += '\\n';\n        }\n      }\n      return bits;\n    });\n\n    setAllBits(allBits);\n\n  } catch (err) {\n    console.error(err);\n    setError('Failed to parse GIF file.');\n  }\n}\n\nasync function generateFramePreviews(frames, setFramePreviews) {\n  const previews = [];\n  for (const frame of frames) {\n    const { width, height, patch } = frame;\n\n    if (isNaN(width) || isNaN(height) || width <= 0 || height <= 0) {\n      console.error('Invalid frame dimensions:', width, height);\n      continue;\n    }\n\n    // Create a canvas\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Copy RGBA pixels into canvas\n    const imageData = ctx.createImageData(width, height);\n    imageData.data.set(patch);\n    ctx.putImageData(imageData, 0, 0);\n\n    // Canvas → PNG data URL\n    const url = canvas.toDataURL(\"image/png\");\n    previews.push(url);\n  }\n\n  setFramePreviews(previews);\n}\n\nconst handleFrameClick = (frame, i, setSelectedFrame) => {\n  const pixelsPerRow = 6;\n  let formattedBits = '';\n  for (let j = 0; j < frame.patch.length; j += 4 * pixelsPerRow) {\n    for (let k = 0; k < pixelsPerRow; k++) {\n      if (j + k * 4 >= frame.patch.length) break;\n      const r = String(frame.patch[j + k * 4]).padStart(3, '_');\n      const g = String(frame.patch[j + k * 4 + 1]).padStart(3, '_');\n      const b = String(frame.patch[j + k * 4 + 2]).padStart(3, '_');\n      const a = String(frame.patch[j + k * 4 + 3]).padStart(3, '_');\n      formattedBits += `[${r}, ${g}, ${b}, ${a}]`;\n    }\n    formattedBits += '\\n';\n  }\n  setSelectedFrame({ frame: i + 1, bits: formattedBits });\n};\n\nexport default function GifSection() {\n  const [frames, setFrames] = useState([]);\n  const [fileName, setFileName] = useState('');\n  const [error, setError] = useState(null);\n  const [framePreviews, setFramePreviews] = useState([]);\n  const [file, setFile] = useState(null);\n  const [selectedFrame, setSelectedFrame] = useState(null);\n  const [allBits, setAllBits] = useState([]);\n\n  const handleFileChange = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (file.type !== 'image/gif') {\n      setError('Please upload a valid GIF file.');\n      return;\n    }\n\n    setError(null);\n    setFileName(file.name);\n    setFile(file);\n  }\n\n  useEffect(() => {\n    if (file) {\n      extractedBits(file, setFrames, setError, setAllBits);\n    }\n  }, [file]);\n\n  useEffect(() => {\n    if (frames.length === 0) return;\n    generateFramePreviews(frames, setFramePreviews);\n  }, [frames]);\n\n  return (\n    <div>\n      <input type=\"file\" accept=\"image/gif\" onChange={handleFileChange} />\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {fileName && <p>Uploaded GIF: {fileName}</p>}\n\n      {frames.length > 0 && (\n        <div className=\"frame-container\">\n          <p>Frames extracted: {frames.length}</p>\n          <div className=\"frames\">\n            {framePreviews.map((src, index) => (\n              <div key={index} className=\"frame\">\n                <p>Frame {index}</p>\n                <img src={src} className=\"canvas\" onClick={() => handleFrameClick(frames[index], index, setSelectedFrame, allBits)}/>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {selectedFrame && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h2>Frame {selectedFrame.frame} Bits</h2>\n            <pre>{selectedFrame.bits}</pre>\n            <button onClick={() => setSelectedFrame(null)}>Close</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n*/\n\n\nimport { useState, useEffect } from \"react\";\nimport { encodeFromUpload } from \"../utils/stego\";\nimport { parseGIF, decompressFrames } from \"gifuct-js\";\nimport '../stylesheets/Frames.css';\n\nexport default function GifSection() {\n  const [gifFile, setGifFile] = useState(null);\n  const [payloadFile, setPayloadFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [error, setError] = useState(null);\n  const [frames, setFrames] = useState([]);\n  const [framePreviews, setFramePreviews] = useState([]);\n  const [selectedFrame, setSelectedFrame] = useState(null);\n\n  // Upload GIF\n  const handleGifUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    if (file.type !== \"image/gif\") {\n      setError(\"Please upload a valid GIF file.\");\n      return;\n    }\n\n    setGifFile(file);\n    setFileName(file.name);\n    setError(null);\n  };\n\n  // Upload payload\n  const handlePayloadUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setPayloadFile(file);\n  };\n\n  // Extract frames for preview\n  useEffect(() => {\n    const extractFrames = async () => {\n      if (!gifFile) return;\n      try {\n        const buffer = await gifFile.arrayBuffer();\n        const gif = parseGIF(buffer);\n        const decompressedFrames = decompressFrames(gif, true);\n        const logicalWidth = gif.lsd.width;\n        const logicalHeight = gif.lsd.height;\n\n        const safeFrames = decompressedFrames.map(frame => ({\n          ...frame,\n          width: logicalWidth,\n          height: logicalHeight\n        }));\n\n        setFrames(safeFrames);\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to parse GIF.\");\n      }\n    };\n\n    extractFrames();\n  }, [gifFile]);\n\n  // Generate frame previews\n  useEffect(() => {\n    const generatePreviews = async () => {\n      const previews = [];\n      for (const frame of frames) {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = frame.width;\n        canvas.height = frame.height;\n        const ctx = canvas.getContext(\"2d\");\n\n        const imageData = ctx.createImageData(frame.width, frame.height);\n        imageData.data.set(frame.patch);\n        ctx.putImageData(imageData, 0, 0);\n\n        previews.push(canvas.toDataURL(\"image/png\"));\n      }\n      setFramePreviews(previews);\n    };\n\n    if (frames.length > 0) generatePreviews();\n  }, [frames]);\n\n  // Handle frame click to show RGBA values\n  const handleFrameClick = (frame, i) => {\n    const pixelsPerRow = 6;\n    let formattedBits = '';\n    for (let j = 0; j < frame.patch.length; j += 4 * pixelsPerRow) {\n      for (let k = 0; k < pixelsPerRow; k++) {\n        if (j + k * 4 >= frame.patch.length) break;\n        const r = String(frame.patch[j + k * 4]).padStart(3, '_');\n        const g = String(frame.patch[j + k * 4 + 1]).padStart(3, '_');\n        const b = String(frame.patch[j + k * 4 + 2]).padStart(3, '_');\n        const a = String(frame.patch[j + k * 4 + 3]).padStart(3, '_');\n        formattedBits += `[${r}, ${g}, ${b}, ${a}]`;\n      }\n      formattedBits += '\\n';\n    }\n    setSelectedFrame({ frame: i + 1, bits: formattedBits });\n  };\n\n  // Encode payload into GIF\n  const handleEncode = async () => {\n    if (!gifFile || !payloadFile) {\n      setError(\"Please upload both a GIF and a payload file.\");\n      return;\n    }\n\n    try {\n      const encodedFrames = await encodeFromUpload(gifFile, payloadFile);\n      console.log(\"Encoded frames:\", encodedFrames);\n      alert(\"Payload encoded successfully! Check console for frames.\");\n    } catch (err) {\n      console.error(err);\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Steganography GIF Encoder</h2>\n\n      <div>\n        <label>Upload GIF:</label>\n        <input type=\"file\" accept=\"image/gif\" onChange={handleGifUpload} />\n      </div>\n\n      <div>\n        <label>Upload Payload:</label>\n        <input type=\"file\" onChange={handlePayloadUpload} />\n      </div>\n\n      <button onClick={handleEncode}>Encode GIF</button>\n\n      {fileName && <p>Uploaded GIF: {fileName}</p>}\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      {frames.length > 0 && (\n        <div className=\"frame-container\">\n          <p>Frames extracted: {frames.length}</p>\n          <div className=\"frames\">\n            {framePreviews.map((src, index) => (\n              <div key={index} className=\"frame\">\n                <p>Frame {index}</p>\n                <img\n                  src={src}\n                  className=\"canvas\"\n                  onClick={() => handleFrameClick(frames[index], index)}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {selectedFrame && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h2>Frame {selectedFrame.frame} Bits</h2>\n            <pre>{selectedFrame.bits}</pre>\n            <button onClick={() => setSelectedFrame(null)}>Close</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,gBAAgB;AACjD,SAASC,QAAQ,EAAEC,gBAAgB,QAAQ,WAAW;AACtD,OAAO,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}