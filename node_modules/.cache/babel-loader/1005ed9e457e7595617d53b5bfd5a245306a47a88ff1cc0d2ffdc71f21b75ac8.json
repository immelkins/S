{"ast":null,"code":"// ToBits.js\n// Extract frames and bits from GIF\n\nexport default async function ToBits(file, setFrames, setError, setAllBits) {\n  try {\n    const arrayBuffer = await file.arrayBuffer();\n    const gif = parseGIF(arrayBuffer);\n    const decompressedFrames = decompressFrames(gif, true);\n    const logicalWidth = gif.lsd.width;\n    const logicalHeight = gif.lsd.height;\n    const safeFrames = decompressedFrames.map(frame => ({\n      ...frame,\n      width: logicalWidth,\n      height: logicalHeight\n    }));\n    setFrames(safeFrames);\n    const allBits = safeFrames.map(frame => {\n      let bits = '';\n      for (let i = 0; i < frame.patch.length; i += 4) {\n        bits += `${frame.patch[i]}${frame.patch[i + 1]}${frame.patch[i + 2]}${frame.patch[i + 3]}`;\n        if ((i + 4) % (frame.width * 4) === 0) bits += '\\n';\n      }\n      return bits;\n    });\n    setAllBits(allBits);\n  } catch (err) {\n    console.error(err);\n    setError('Failed to parse GIF file.');\n  }\n}\n_c = ToBits;\nvar _c;\n$RefreshReg$(_c, \"ToBits\");","map":{"version":3,"names":["ToBits","file","setFrames","setError","setAllBits","arrayBuffer","gif","parseGIF","decompressedFrames","decompressFrames","logicalWidth","lsd","width","logicalHeight","height","safeFrames","map","frame","allBits","bits","i","patch","length","err","console","error","_c","$RefreshReg$"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToBits.js"],"sourcesContent":["// ToBits.js\r\n// Extract frames and bits from GIF\r\n\r\nexport default async function ToBits(file, setFrames, setError, setAllBits) {\r\n  try {\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    const gif = parseGIF(arrayBuffer);\r\n    const decompressedFrames = decompressFrames(gif, true);\r\n\r\n    const logicalWidth = gif.lsd.width;\r\n    const logicalHeight = gif.lsd.height;\r\n\r\n    const safeFrames = decompressedFrames.map(frame => ({\r\n      ...frame,\r\n      width: logicalWidth,\r\n      height: logicalHeight,\r\n    }));\r\n\r\n    setFrames(safeFrames);\r\n\r\n    const allBits = safeFrames.map(frame => {\r\n      let bits = '';\r\n      for (let i = 0; i < frame.patch.length; i += 4) {\r\n        bits += `${frame.patch[i]}${frame.patch[i + 1]}${frame.patch[i + 2]}${frame.patch[i + 3]}`;\r\n        if ((i + 4) % (frame.width * 4) === 0) bits += '\\n';\r\n      }\r\n      return bits;\r\n    });\r\n\r\n    setAllBits(allBits);\r\n  } catch (err) {\r\n    console.error(err);\r\n    setError('Failed to parse GIF file.');\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA;;AAEA,eAAe,eAAeA,MAAMA,CAACC,IAAI,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,EAAE;EAC1E,IAAI;IACF,MAAMC,WAAW,GAAG,MAAMJ,IAAI,CAACI,WAAW,CAAC,CAAC;IAC5C,MAAMC,GAAG,GAAGC,QAAQ,CAACF,WAAW,CAAC;IACjC,MAAMG,kBAAkB,GAAGC,gBAAgB,CAACH,GAAG,EAAE,IAAI,CAAC;IAEtD,MAAMI,YAAY,GAAGJ,GAAG,CAACK,GAAG,CAACC,KAAK;IAClC,MAAMC,aAAa,GAAGP,GAAG,CAACK,GAAG,CAACG,MAAM;IAEpC,MAAMC,UAAU,GAAGP,kBAAkB,CAACQ,GAAG,CAACC,KAAK,KAAK;MAClD,GAAGA,KAAK;MACRL,KAAK,EAAEF,YAAY;MACnBI,MAAM,EAAED;IACV,CAAC,CAAC,CAAC;IAEHX,SAAS,CAACa,UAAU,CAAC;IAErB,MAAMG,OAAO,GAAGH,UAAU,CAACC,GAAG,CAACC,KAAK,IAAI;MACtC,IAAIE,IAAI,GAAG,EAAE;MACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,KAAK,CAACC,MAAM,EAAEF,CAAC,IAAI,CAAC,EAAE;QAC9CD,IAAI,IAAI,GAAGF,KAAK,CAACI,KAAK,CAACD,CAAC,CAAC,GAAGH,KAAK,CAACI,KAAK,CAACD,CAAC,GAAG,CAAC,CAAC,GAAGH,KAAK,CAACI,KAAK,CAACD,CAAC,GAAG,CAAC,CAAC,GAAGH,KAAK,CAACI,KAAK,CAACD,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1F,IAAI,CAACA,CAAC,GAAG,CAAC,KAAKH,KAAK,CAACL,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,EAAEO,IAAI,IAAI,IAAI;MACrD;MACA,OAAOA,IAAI;IACb,CAAC,CAAC;IAEFf,UAAU,CAACc,OAAO,CAAC;EACrB,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBpB,QAAQ,CAAC,2BAA2B,CAAC;EACvC;AACF;AAACuB,EAAA,GA/B6B1B,MAAM;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}