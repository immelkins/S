{"ast":null,"code":"import GIF from 'gif.js';\nexport default async function createGIF(frames, delay = 100) {\n  return new Promise(resolve => {\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      // lower is better quality\n      workerScript: '/gif.worker.js' // local worker\n    });\n\n    //Add each frame to the GIF\n    frames.forEach(frame => {\n      const canvas = document.createElement('canvas');\n      canvas.width = frame.width;\n      canvas.height = frame.height;\n      const context = canvas.getContext('2d');\n\n      // Copy RGBA pixels into canvas\n      const frameData = context.createImageData(frame.width, frame.height);\n      frameData.data.set(frame.patch);\n      context.putImageData(frameData, 0, 0);\n\n      //Adding the canvas as a frame\n      gif.addFrame(canvas, {\n        delay\n      });\n    });\n\n    // Return the generated GIF\n    gif.on('finished', blob => {\n      const url = URL.createObjectURL(blob);\n      resolve(url);\n    });\n    gif.render();\n  });\n}\n;","map":{"version":3,"names":["GIF","createGIF","frames","delay","Promise","resolve","gif","workers","quality","workerScript","forEach","frame","canvas","document","createElement","width","height","context","getContext","frameData","createImageData","data","set","patch","putImageData","addFrame","on","blob","url","URL","createObjectURL","render"],"sources":["C:/Users/mesco/OneDrive/Documents/GitHub/S/src/components/ToGIF.js"],"sourcesContent":["import GIF from 'gif.js';\r\n\r\nexport default async function createGIF(frames, delay = 100) {\r\n  return new Promise((resolve) => {\r\n    const gif = new GIF({\r\n      workers: 2,\r\n      quality: 10,                    // lower is better quality\r\n      workerScript: '/gif.worker.js', // local worker\r\n    });\r\n\r\n    //Add each frame to the GIF\r\n    frames.forEach(frame => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = frame.width;\r\n      canvas.height = frame.height;\r\n      const context = canvas.getContext('2d');\r\n\r\n      // Copy RGBA pixels into canvas\r\n      const frameData = context.createImageData(frame.width, frame.height);\r\n      frameData.data.set(frame.patch);\r\n      context.putImageData(frameData, 0, 0);\r\n\r\n      //Adding the canvas as a frame\r\n      gif.addFrame(canvas, { delay });\r\n    });\r\n\r\n    // Return the generated GIF\r\n    gif.on('finished', blob => {\r\n      const url = URL.createObjectURL(blob);\r\n      resolve(url);\r\n    });\r\n\r\n    gif.render();\r\n  });\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,QAAQ;AAExB,eAAe,eAAeC,SAASA,CAACC,MAAM,EAAEC,KAAK,GAAG,GAAG,EAAE;EAC3D,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,GAAG,GAAG,IAAIN,GAAG,CAAC;MAClBO,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,EAAE;MAAqB;MAChCC,YAAY,EAAE,gBAAgB,CAAE;IAClC,CAAC,CAAC;;IAEF;IACAP,MAAM,CAACQ,OAAO,CAACC,KAAK,IAAI;MACtB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACG,KAAK,GAAGJ,KAAK,CAACI,KAAK;MAC1BH,MAAM,CAACI,MAAM,GAAGL,KAAK,CAACK,MAAM;MAC5B,MAAMC,OAAO,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;;MAEvC;MACA,MAAMC,SAAS,GAAGF,OAAO,CAACG,eAAe,CAACT,KAAK,CAACI,KAAK,EAAEJ,KAAK,CAACK,MAAM,CAAC;MACpEG,SAAS,CAACE,IAAI,CAACC,GAAG,CAACX,KAAK,CAACY,KAAK,CAAC;MAC/BN,OAAO,CAACO,YAAY,CAACL,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;;MAErC;MACAb,GAAG,CAACmB,QAAQ,CAACb,MAAM,EAAE;QAAET;MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;;IAEF;IACAG,GAAG,CAACoB,EAAE,CAAC,UAAU,EAAEC,IAAI,IAAI;MACzB,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;MACrCtB,OAAO,CAACuB,GAAG,CAAC;IACd,CAAC,CAAC;IAEFtB,GAAG,CAACyB,MAAM,CAAC,CAAC;EACd,CAAC,CAAC;AACJ;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}